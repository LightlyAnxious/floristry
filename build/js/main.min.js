const ENTER_KEYCODE=13,ESC_KEYCODE=27,menuBtn=document.querySelector(".page-header__btn"),menuOverlay=document.querySelector(".menu-overlay"),modal=document.querySelector(".modal"),modalOverlay=document.querySelector(".modal-overlay"),contactForm=document.querySelector(".contact-form__fields"),servicesList=document.querySelector(".services__list"),callButton=document.querySelector("#call-button"),modalClose=document.querySelector(".contact-form__close"),introBg=document.querySelector(".intro__bg-image"),desktop=window.matchMedia("(min-width: 1140px)");let winX=null,winY=null;const onEscEvent=function(e,n){27===e.keyCode&&n()};function disableWindowScroll(){winX=window.scrollX,winY=window.scrollY}function enableWindowScroll(){winX=null,winY=null}if(document.addEventListener("DOMContentLoaded",yall),window.addEventListener("scroll",(function(){null!==winX&&null!==winY&&window.scrollTo(winX,winY)})),menuBtn&&menuOverlay){const e=()=>{menuBtn.classList.toggle("page-header__btn--close"),menuBtn.classList.toggle("page-header__btn--open"),menuOverlay.classList.toggle("menu-overlay--shown"),menuOverlay.classList.contains("menu-overlay--shown")?(disableWindowScroll(),focusManager.capture(menuOverlay)):(enableWindowScroll(),focusManager.release(menuOverlay))},n=()=>{menuOverlay.classList.contains("menu-overlay--shown")&&(menuOverlay.classList.remove("menu-overlay--shown"),menuBtn.classList.toggle("page-header__btn--close"),menuBtn.classList.toggle("page-header__btn--open"))};menuBtn.addEventListener("click",e),window.addEventListener("keydown",e=>{onEscEvent(e,n)})}if(null!==introBg&&window.addEventListener("scroll",()=>{let e=window.scrollY;introBg.style.top=.5*e+"px"}),callButton&&modal&&modalClose&&modalOverlay){const e=function(e){e.classList.add("modal--open"),e.setAttribute("aria-modal",!0),e.removeAttribute("aria-hidden"),modalOverlay.style.display="block",disableWindowScroll(),focusManager.capture(contactForm)},n=()=>{modal.classList.contains("modal--open")&&(modal.classList.remove("modal--open"),modal.removeAttribute("aria-modal"),modal.setAttribute("aria-hidden",!0),callButton.removeEventListener("click",()=>e(modal)),enableWindowScroll(),focusManager.release(callButton)),modalOverlay&&(modalOverlay.style.display="none")};callButton.addEventListener("click",()=>e(modal)),modalClose.addEventListener("click",n),modalOverlay.addEventListener("click",n),window.addEventListener("keydown",e=>{onEscEvent(e,n)})}let servicesSlider;const breakpointChecker=function(){if(!0!==desktop.matches)return!1===desktop.matches?enableSwiper():void 0;void 0!==servicesSlider&&servicesList&&servicesSlider.destroy(!0,!0)},enableSwiper=function(){servicesSlider=new Swiper(".swiper1",{a11y:!0,paginationBulletMessage:"Перейти к слайду {{index}}",breakpoints:{250:{pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,n){return'<button class="'+n+'" aria-label= "Перейти к слайду '+e+'">Перейти к слайду '+e+"</button>"}},slidesPerView:1,slidesPerGroup:1,spaceBetween:28,initialSlide:0,setWrapperSize:!0,grabCursor:!0,updateOnWindowResize:!0,centeredSlides:!0,centeredSlidesBounds:!0},768:{pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,n){return'<button class="'+n+'" aria-label= "Перейти к слайду '+e+'">Перейти к слайду '+e+"</button>"}},slidesPerView:2,slidesPerGroup:2,initialSlide:0,setWrapperSize:!0,grabCursor:!0,updateOnWindowResize:!0,cssWidthAndHeight:!0}}})};desktop.addListener(breakpointChecker),breakpointChecker();let cardsSlider=new Swiper(".swiper2",{slidesPerView:4,slidesPerGroup:4,initialSlide:0,spaceBetween:20,a11y:!0,paginationBulletMessage:"Перейти к слайду {{index}}",keyboardControl:!0,grabCursor:!0,updateOnWindowResize:!0,navigation:{nextEl:".card__control--next",prevEl:".card__control--prev"},breakpoints:{250:{spaceBetween:15,initialSlide:0,keyboardControl:!0,grabCursor:!0,updateOnWindowResize:!0},384:{initialSlide:0,on:{beforeResize(){window.innerWidth>=384&&cardsSlider.slides.css("width","")}}},768:{slidesPerView:4,slidesPerGroup:4,initialSlide:0,spaceBetween:23,setWrapperSize:!0,keyboardControl:!0,grabCursor:!0,updateOnWindowResize:!0,cssWidthAndHeight:!0},1141:{spaceBetween:9},1300:{spaceBetween:12},1500:{spaceBetween:16}}});const getPreviousControl=()=>{const e=document.querySelector(".card__control--prev");e&&cardsSlider&&cardsSlider.realIndex>3&&(e.style.display="block"),e&&cardsSlider&&cardsSlider.realIndex<=3&&(e.style.display="none")};cardsSlider.on("slideChange",getPreviousControl);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiRU5URVJfS0VZQ09ERSIsIkVTQ19LRVlDT0RFIiwibWVudUJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1lbnVPdmVybGF5IiwibW9kYWwiLCJtb2RhbE92ZXJsYXkiLCJjb250YWN0Rm9ybSIsInNlcnZpY2VzTGlzdCIsImNhbGxCdXR0b24iLCJtb2RhbENsb3NlIiwiaW50cm9CZyIsImRlc2t0b3AiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwid2luWCIsIndpblkiLCJvbkVzY0V2ZW50IiwiZXZ0IiwiYWN0aW9uIiwia2V5Q29kZSIsImRpc2FibGVXaW5kb3dTY3JvbGwiLCJzY3JvbGxYIiwic2Nyb2xsWSIsImVuYWJsZVdpbmRvd1Njcm9sbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ5YWxsIiwic2Nyb2xsVG8iLCJvbkNsaWNrTWVudVRvZ2dsZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNvbnRhaW5zIiwiZm9jdXNNYW5hZ2VyIiwiY2FwdHVyZSIsInJlbGVhc2UiLCJjbG9zZU1lbnUiLCJyZW1vdmUiLCJ2YWx1ZSIsInN0eWxlIiwidG9wIiwib3Blbk1vZGFsIiwiZWwiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJkaXNwbGF5IiwiY2xvc2VNb2RhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXJ2aWNlc1NsaWRlciIsImJyZWFrcG9pbnRDaGVja2VyIiwibWF0Y2hlcyIsImVuYWJsZVN3aXBlciIsInVuZGVmaW5lZCIsImRlc3Ryb3kiLCJTd2lwZXIiLCJhMTF5IiwicGFnaW5hdGlvbkJ1bGxldE1lc3NhZ2UiLCJicmVha3BvaW50cyIsIjI1MCIsInBhZ2luYXRpb24iLCJjbGlja2FibGUiLCJyZW5kZXJCdWxsZXQiLCJpbmRleCIsImNsYXNzTmFtZSIsInNsaWRlc1BlclZpZXciLCJzbGlkZXNQZXJHcm91cCIsInNwYWNlQmV0d2VlbiIsImluaXRpYWxTbGlkZSIsInNldFdyYXBwZXJTaXplIiwiZ3JhYkN1cnNvciIsInVwZGF0ZU9uV2luZG93UmVzaXplIiwiY2VudGVyZWRTbGlkZXMiLCJjZW50ZXJlZFNsaWRlc0JvdW5kcyIsIjc2OCIsImNzc1dpZHRoQW5kSGVpZ2h0IiwiYWRkTGlzdGVuZXIiLCJjYXJkc1NsaWRlciIsImtleWJvYXJkQ29udHJvbCIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCIzODQiLCJvbiIsIltvYmplY3QgT2JqZWN0XSIsImlubmVyV2lkdGgiLCJzbGlkZXMiLCJjc3MiLCIxMTQxIiwiMTMwMCIsIjE1MDAiLCJnZXRQcmV2aW91c0NvbnRyb2wiLCJwcmV2QnRuIiwicmVhbEluZGV4Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxjQUFnQixHQUNoQkMsWUFBYyxHQUNkQyxRQUFVQyxTQUFTQyxjQUFjLHFCQUNqQ0MsWUFBY0YsU0FBU0MsY0FBYyxpQkFDckNFLE1BQVFILFNBQVNDLGNBQWMsVUFDL0JHLGFBQWVKLFNBQVNDLGNBQWMsa0JBQ3RDSSxZQUFjTCxTQUFTQyxjQUFjLHlCQUNyQ0ssYUFBZU4sU0FBU0MsY0FBYyxtQkFDdENNLFdBQWFQLFNBQVNDLGNBQWMsZ0JBQ3BDTyxXQUFhUixTQUFTQyxjQUFjLHdCQUNwQ1EsUUFBU1QsU0FBU0MsY0FBYyxvQkFDaENTLFFBQVVDLE9BQU9DLFdBQVcsdUJBQ2xDLElBQUlDLEtBQU8sS0FBTUMsS0FBTyxLQUV4QixNQUFNQyxXQUFhLFNBQVVDLEVBQUtDLEdBYmQsS0FjZEQsRUFBSUUsU0FDTkQsS0FnQkosU0FBU0Usc0JBQ1BOLEtBQU9GLE9BQU9TLFFBQ2ROLEtBQU9ILE9BQU9VLFFBR2hCLFNBQVNDLHFCQUNQVCxLQUFPLEtBQ1BDLEtBQU8sS0FLVCxHQXRCQWQsU0FBU3VCLGlCQUFpQixtQkFBb0JDLE1BSTlDYixPQUFPWSxpQkFBaUIsVUFBVSxXQUNuQixPQUFUVixNQUEwQixPQUFUQyxNQUNqQkgsT0FBT2MsU0FBU1osS0FBTUMsU0FnQnhCZixTQUFXRyxZQUFhLENBQzFC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cUIsaUJBQWlCLEVBQ2pCUixZQUFZLEVBQ1pDLHNCQUFzQixFQUN0QlEsV0FBWSxDQUNWQyxPQUFRLHVCQUNSQyxPQUFRLHdCQUlWdkIsWUFBYSxDQUNYQyxJQUFLLENBQ0hRLGFBQWMsR0FDZEMsYUFBYyxFQUNkVSxpQkFBaUIsRUFDakJSLFlBQVksRUFDWkMsc0JBQXNCLEdBR3hCVyxJQUFLLENBQ0hkLGFBQWMsRUFDZGUsR0FBSSxDQUNGQyxlQUNNdEUsT0FBT3VFLFlBQWMsS0FDdkJSLFlBQVlTLE9BQU9DLElBQUksUUFBUyxPQU14Q2IsSUFBSyxDQUNIVCxjQUFlLEVBQ2ZDLGVBQWdCLEVBQ2hCRSxhQUFjLEVBQ2RELGFBQWMsR0FDZEUsZ0JBQWdCLEVBQ2hCUyxpQkFBaUIsRUFDakJSLFlBQVksRUFDWkMsc0JBQXNCLEVBQ3RCSSxtQkFBbUIsR0FHckJhLEtBQU0sQ0FDSnJCLGFBQWMsR0FHaEJzQixLQUFNLENBQ0p0QixhQUFjLElBR2hCdUIsS0FBTSxDQUNKdkIsYUFBYyxPQUtwQixNQUFNd0IsbUJBQXFCLEtBQzNCLE1BQU1DLEVBQVV6RixTQUFTQyxjQUFjLHdCQUVqQ3dGLEdBQVdmLGFBQWVBLFlBQVlnQixVQUFZLElBQ3BERCxFQUFRckQsTUFBTU8sUUFBVSxTQUd0QjhDLEdBQVdmLGFBQWVBLFlBQVlnQixXQUFhLElBQ3JERCxFQUFRckQsTUFBTU8sUUFBVSxTQUk1QitCLFlBQVlNLEdBQUcsY0FBZVEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBFTlRFUl9LRVlDT0RFID0gMTM7XG5jb25zdCBFU0NfS0VZQ09ERSA9IDI3O1xuY29uc3QgbWVudUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGFnZS1oZWFkZXJfX2J0blwiKTtcbmNvbnN0IG1lbnVPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51LW92ZXJsYXlcIik7XG5jb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XG5jb25zdCBtb2RhbE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLW92ZXJsYXlcIik7XG5jb25zdCBjb250YWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdC1mb3JtX19maWVsZHNcIik7XG5jb25zdCBzZXJ2aWNlc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlcnZpY2VzX19saXN0XCIpO1xuY29uc3QgY2FsbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FsbC1idXR0b25cIik7XG5jb25zdCBtb2RhbENsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0LWZvcm1fX2Nsb3NlXCIpO1xuY29uc3QgaW50cm9CZyA9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnRyb19fYmctaW1hZ2VcIik7XG5jb25zdCBkZXNrdG9wID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAxMTQwcHgpXCIpO1xubGV0IHdpblggPSBudWxsLCB3aW5ZID0gbnVsbDtcblxuY29uc3Qgb25Fc2NFdmVudCA9IGZ1bmN0aW9uIChldnQsIGFjdGlvbikge1xuICBpZiAoZXZ0LmtleUNvZGUgPT09IEVTQ19LRVlDT0RFKSB7XG4gICAgYWN0aW9uKCk7XG4gIH1cbn07XG5cbi8vICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0L/Qu9Cw0LPQuNC90LAgWWFsbFxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCB5YWxsKTtcblxuLy8gKiDQpNGD0L3QutGG0LjRjyDQsdC70L7QutC40YDQvtCy0LrQuCDRgdC60YDQvtC70LvQsFxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gIGlmICh3aW5YICE9PSBudWxsICYmIHdpblkgIT09IG51bGwpIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyh3aW5YLCB3aW5ZKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGRpc2FibGVXaW5kb3dTY3JvbGwoKSB7XG4gIHdpblggPSB3aW5kb3cuc2Nyb2xsWDtcbiAgd2luWSA9IHdpbmRvdy5zY3JvbGxZO1xufTtcblxuZnVuY3Rpb24gZW5hYmxlV2luZG93U2Nyb2xsKCkge1xuICB3aW5YID0gbnVsbDtcbiAgd2luWSA9IG51bGw7XG59O1xuXG4vLyAqINCf0LXRgNC10LrQu9GO0YfQtdC90LjQtSDQvNC10L3RjlxuXG5pZiAobWVudUJ0biAmJiBtZW51T3ZlcmxheSkge1xuICBjb25zdCBvbkNsaWNrTWVudVRvZ2dsZSA9ICgpID0+IHtcbiAgICBtZW51QnRuLmNsYXNzTGlzdC50b2dnbGUoXCJwYWdlLWhlYWRlcl9fYnRuLS1jbG9zZVwiKTtcbiAgICBtZW51QnRuLmNsYXNzTGlzdC50b2dnbGUoXCJwYWdlLWhlYWRlcl9fYnRuLS1vcGVuXCIpO1xuICAgIG1lbnVPdmVybGF5LmNsYXNzTGlzdC50b2dnbGUoXCJtZW51LW92ZXJsYXktLXNob3duXCIpXG4gICAgICBpZiAobWVudU92ZXJsYXkuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWVudS1vdmVybGF5LS1zaG93blwiKSkge1xuICAgICAgICBkaXNhYmxlV2luZG93U2Nyb2xsKCk7XG4gICAgICAgIGZvY3VzTWFuYWdlci5jYXB0dXJlKG1lbnVPdmVybGF5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuYWJsZVdpbmRvd1Njcm9sbCgpO1xuICAgICAgICBmb2N1c01hbmFnZXIucmVsZWFzZShtZW51T3ZlcmxheSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2xvc2VNZW51ID0gKCkgPT4ge1xuICAgICAgaWYgKG1lbnVPdmVybGF5LmNsYXNzTGlzdC5jb250YWlucyhcIm1lbnUtb3ZlcmxheS0tc2hvd25cIikpIHtcbiAgICAgICAgbWVudU92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcIm1lbnUtb3ZlcmxheS0tc2hvd25cIik7XG4gICAgICAgIG1lbnVCdG4uY2xhc3NMaXN0LnRvZ2dsZShcInBhZ2UtaGVhZGVyX19idG4tLWNsb3NlXCIpO1xuICAgICAgICBtZW51QnRuLmNsYXNzTGlzdC50b2dnbGUoXCJwYWdlLWhlYWRlcl9fYnRuLS1vcGVuXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbnVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChvbkNsaWNrTWVudVRvZ2dsZSkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBvbkVzY0V2ZW50KGV2dCwgY2xvc2VNZW51KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vICogSW50cm8gYmcgcGFyYWxsYXhcbiAgaWYgKGludHJvQmcgIT09IG51bGwpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSB3aW5kb3cuc2Nyb2xsWTtcblxuICAgICAgaW50cm9CZy5zdHlsZS50b3AgPSB2YWx1ZSAqIDAuNSArIFwicHhcIjtcbiAgICB9KTtcbiAgfVxuXG5cbi8vICog0JLRi9C30L7QsiDQuCDQt9Cw0LrRgNGL0YLQuNC1INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwXG5pZiAoY2FsbEJ1dHRvbiAmJiBtb2RhbCAmJiBtb2RhbENsb3NlICYmIG1vZGFsT3ZlcmxheSkge1xuXG4gIC8vICog0KTRg9C90LrRhtC40Y8g0L7RgtC60YDRi9GC0LjRjyDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxuXG4gIGNvbnN0IG9wZW5Nb2RhbCA9IGZ1bmN0aW9uIChlbCkge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbC0tb3BlblwiKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLW1vZGFsXCIsIHRydWUpO1xuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpO1xuICAgIG1vZGFsT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIGRpc2FibGVXaW5kb3dTY3JvbGwoKTtcbiAgICBmb2N1c01hbmFnZXIuY2FwdHVyZShjb250YWN0Rm9ybSk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IHtcbiAgICBpZiAobW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWwtLW9wZW5cIikpIHtcbiAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbC0tb3BlblwiKTtcbiAgICAgIG1vZGFsLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtbW9kYWxcIik7XG4gICAgICBtb2RhbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCB0cnVlKTtcbiAgICAgIGNhbGxCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IG9wZW5Nb2RhbChtb2RhbCkpO1xuICAgICAgZW5hYmxlV2luZG93U2Nyb2xsKCk7XG4gICAgICBmb2N1c01hbmFnZXIucmVsZWFzZShjYWxsQnV0dG9uKTtcbiAgICB9XG5cbiAgICBpZiAobW9kYWxPdmVybGF5KSB7XG4gICAgICBtb2RhbE92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxuXG4gIC8vINCe0LHRgNCw0LHQvtGC0YfQuNC60Lgg0LTQtdC50YHRgtCy0LjQuSDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxuXG4gIGNhbGxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IG9wZW5Nb2RhbChtb2RhbCkpO1xuXG4gIG1vZGFsQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlTW9kYWwpO1xuXG4gIG1vZGFsT3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2RhbCk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldnQpID0+IHtcbiAgICBvbkVzY0V2ZW50KGV2dCwgY2xvc2VNb2RhbCk7XG4gIH0pO1xufVxuXG4vLyAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGB0LvQsNC50LTQtdGA0LAg0LTQu9GPINCx0LvQvtC60LAg4oCY0KPRgdC70YPQs9C44oCYXG5cbmxldCBzZXJ2aWNlc1NsaWRlcjtcblxuY29uc3QgYnJlYWtwb2ludENoZWNrZXIgPSBmdW5jdGlvbigpIHtcblxuICBpZiAoZGVza3RvcC5tYXRjaGVzID09PSB0cnVlKSB7XG5cbiAgICBpZiAoc2VydmljZXNTbGlkZXIgIT09IHVuZGVmaW5lZCAmJiBzZXJ2aWNlc0xpc3QpIHNlcnZpY2VzU2xpZGVyLmRlc3Ryb3kodHJ1ZSwgdHJ1ZSk7XG5cbiAgICByZXR1cm47XG5cbiAgfSBlbHNlIGlmIChkZXNrdG9wLm1hdGNoZXMgPT09IGZhbHNlKSB7XG5cbiAgICByZXR1cm4gZW5hYmxlU3dpcGVyKCk7XG5cbiAgfVxuXG59O1xuXG5jb25zdCBlbmFibGVTd2lwZXIgPSBmdW5jdGlvbigpIHtcbiAgc2VydmljZXNTbGlkZXIgPSBuZXcgU3dpcGVyKFwiLnN3aXBlcjFcIiwge1xuICAgIGExMXk6IHRydWUsXG4gICAgcGFnaW5hdGlvbkJ1bGxldE1lc3NhZ2U6IFwi0J/QtdGA0LXQudGC0Lgg0Log0YHQu9Cw0LnQtNGDIHt7aW5kZXh9fVwiLFxuXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDI1MDoge1xuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgZWw6IFwiLnN3aXBlci1wYWdpbmF0aW9uXCIsXG4gICAgICAgICAgY2xpY2thYmxlOiB0cnVlLFxuICAgICAgICAgIHJlbmRlckJ1bGxldDogZnVuY3Rpb24gKGluZGV4LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwiJyArXG4gICAgICAgICAgICAgIGNsYXNzTmFtZSArXG4gICAgICAgICAgICAgICdcIiBhcmlhLWxhYmVsPSBcIicgK1xuICAgICAgICAgICAgICBcItCf0LXRgNC10LnRgtC4INC6INGB0LvQsNC50LTRgyBcIiArXG4gICAgICAgICAgICAgIGluZGV4ICtcbiAgICAgICAgICAgICAgJ1wiPicgK1xuICAgICAgICAgICAgICBcItCf0LXRgNC10LnRgtC4INC6INGB0LvQsNC50LTRgyBcIiArXG4gICAgICAgICAgICAgIGluZGV4ICtcbiAgICAgICAgICAgICAgXCI8L2J1dHRvbj5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgICBzcGFjZUJldHdlZW46IDI4LFxuICAgICAgICBpbml0aWFsU2xpZGU6IDAsXG4gICAgICAgIHNldFdyYXBwZXJTaXplOiB0cnVlLFxuICAgICAgICBncmFiQ3Vyc29yOiB0cnVlLFxuICAgICAgICB1cGRhdGVPbldpbmRvd1Jlc2l6ZTogdHJ1ZSxcbiAgICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXG4gICAgICAgIGNlbnRlcmVkU2xpZGVzQm91bmRzOiB0cnVlLFxuICAgICAgfSxcblxuICAgICAgNzY4OiB7XG4gICAgICAgIC8vIHBhZ2luYXRpb246IHtcbiAgICAgICAgLy8gICBlbDogXCIuc3dpcGVyLXBhZ2luYXRpb25cIixcbiAgICAgICAgLy8gICB0eXBlOiBcImJ1bGxldHNcIixcbiAgICAgICAgLy8gICBidWxsZXRFbGVtZW50OiBcImJ1dHRvblwiLFxuICAgICAgICAvLyAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgICAgLy8gfSxcblxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgZWw6IFwiLnN3aXBlci1wYWdpbmF0aW9uXCIsXG4gICAgICAgICAgY2xpY2thYmxlOiB0cnVlLFxuICAgICAgICAgIHJlbmRlckJ1bGxldDogZnVuY3Rpb24gKGluZGV4LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwiJyArXG4gICAgICAgICAgICAgIGNsYXNzTmFtZSArXG4gICAgICAgICAgICAgICdcIiBhcmlhLWxhYmVsPSBcIicgK1xuICAgICAgICAgICAgICBcItCf0LXRgNC10LnRgtC4INC6INGB0LvQsNC50LTRgyBcIiArXG4gICAgICAgICAgICAgIGluZGV4ICtcbiAgICAgICAgICAgICAgJ1wiPicgK1xuICAgICAgICAgICAgICBcItCf0LXRgNC10LnRgtC4INC6INGB0LvQsNC50LTRgyBcIiArXG4gICAgICAgICAgICAgIGluZGV4ICtcbiAgICAgICAgICAgICAgXCI8L2J1dHRvbj5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiAyLFxuICAgICAgICBpbml0aWFsU2xpZGU6IDAsXG4gICAgICAgIHNldFdyYXBwZXJTaXplOiB0cnVlLFxuICAgICAgICBncmFiQ3Vyc29yOiB0cnVlLFxuICAgICAgICB1cGRhdGVPbldpbmRvd1Jlc2l6ZTogdHJ1ZSxcbiAgICAgICAgY3NzV2lkdGhBbmRIZWlnaHQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xufTtcblxuZGVza3RvcC5hZGRMaXN0ZW5lcihicmVha3BvaW50Q2hlY2tlcik7XG5cbmJyZWFrcG9pbnRDaGVja2VyKCk7XG5cbi8vICEg0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQu9Cw0LnQtNC10YDQsCDQutCw0YDRgtC+0YfQtdC6INGD0YHQu9GD0LNcblxubGV0IGNhcmRzU2xpZGVyID0gbmV3IFN3aXBlcihcIi5zd2lwZXIyXCIsIHtcbiAgc2xpZGVzUGVyVmlldzogNCxcbiAgc2xpZGVzUGVyR3JvdXA6IDQsXG4gIGluaXRpYWxTbGlkZTogMCxcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgLy8gc2V0V3JhcHBlclNpemU6IHRydWUsXG4gIGExMXk6IHRydWUsXG4gIHBhZ2luYXRpb25CdWxsZXRNZXNzYWdlOiBcItCf0LXRgNC10LnRgtC4INC6INGB0LvQsNC50LTRgyB7e2luZGV4fX1cIixcbiAga2V5Ym9hcmRDb250cm9sOiB0cnVlLFxuICBncmFiQ3Vyc29yOiB0cnVlLFxuICB1cGRhdGVPbldpbmRvd1Jlc2l6ZTogdHJ1ZSxcbiAgbmF2aWdhdGlvbjoge1xuICAgIG5leHRFbDogXCIuY2FyZF9fY29udHJvbC0tbmV4dFwiLFxuICAgIHByZXZFbDogXCIuY2FyZF9fY29udHJvbC0tcHJldlwiLFxuICB9LFxuICAvLyBjc3NXaWR0aEFuZEhlaWdodDogdHJ1ZSxcblxuICBicmVha3BvaW50czoge1xuICAgIDI1MDoge1xuICAgICAgc3BhY2VCZXR3ZWVuOiAxNSxcbiAgICAgIGluaXRpYWxTbGlkZTogMCxcbiAgICAgIGtleWJvYXJkQ29udHJvbDogdHJ1ZSxcbiAgICAgIGdyYWJDdXJzb3I6IHRydWUsXG4gICAgICB1cGRhdGVPbldpbmRvd1Jlc2l6ZTogdHJ1ZSxcbiAgICB9LFxuXG4gICAgMzg0OiB7XG4gICAgICBpbml0aWFsU2xpZGU6IDAsXG4gICAgICBvbjoge1xuICAgICAgICBiZWZvcmVSZXNpemUoKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID49IDM4NCkge1xuICAgICAgICAgICAgY2FyZHNTbGlkZXIuc2xpZGVzLmNzcyhcIndpZHRoXCIsIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIDc2ODoge1xuICAgICAgc2xpZGVzUGVyVmlldzogNCxcbiAgICAgIHNsaWRlc1Blckdyb3VwOiA0LFxuICAgICAgaW5pdGlhbFNsaWRlOiAwLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAyMyxcbiAgICAgIHNldFdyYXBwZXJTaXplOiB0cnVlLFxuICAgICAga2V5Ym9hcmRDb250cm9sOiB0cnVlLFxuICAgICAgZ3JhYkN1cnNvcjogdHJ1ZSxcbiAgICAgIHVwZGF0ZU9uV2luZG93UmVzaXplOiB0cnVlLFxuICAgICAgY3NzV2lkdGhBbmRIZWlnaHQ6IHRydWUsXG4gICAgfSxcblxuICAgIDExNDE6IHtcbiAgICAgIHNwYWNlQmV0d2VlbjogOSxcbiAgICB9LFxuXG4gICAgMTMwMDoge1xuICAgICAgc3BhY2VCZXR3ZWVuOiAxMixcbiAgICB9LFxuXG4gICAgMTUwMDoge1xuICAgICAgc3BhY2VCZXR3ZWVuOiAxNixcbiAgICB9LFxuICB9LFxufSk7XG5cbmNvbnN0IGdldFByZXZpb3VzQ29udHJvbCA9ICgpID0+IHtcbmNvbnN0IHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2NvbnRyb2wtLXByZXZcIik7XG5cbiAgaWYgKHByZXZCdG4gJiYgY2FyZHNTbGlkZXIgJiYgY2FyZHNTbGlkZXIucmVhbEluZGV4ID4gMykge1xuICAgIHByZXZCdG4uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgfVxuXG4gIGlmIChwcmV2QnRuICYmIGNhcmRzU2xpZGVyICYmIGNhcmRzU2xpZGVyLnJlYWxJbmRleCA8PSAzKSB7XG4gICAgcHJldkJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH1cbn07XG5cbmNhcmRzU2xpZGVyLm9uKCdzbGlkZUNoYW5nZScsIGdldFByZXZpb3VzQ29udHJvbCk7XG4iXX0=
